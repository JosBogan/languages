(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{45:function(e,t,a){e.exports=a(86)},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(39),o=a.n(s),c=(a(50),a(5)),l=a(18),i=(a(51),a(52),a(53),a(54),a(55),a(56),a(57),a(58),a(59),a(60),a(61),a(62),a(6)),u=a.n(i),p=a(8),m=a(1),d=a(2),h=a(4),_=a(3),v=a(9),b=a.n(v),f=a(11),g=a(12);var E=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"module_container ".concat(e.open&&"module_container_open"),onClick:function(t){return e.onSelectionClick(t,e.data_name,e.title,e.single)},style:{fontSize:e.title?"17px":"15px",margin:e.title?"30px 0 0 0":"20px 0 0 0"}},r.a.createElement("div",{className:"module_circle ".concat(e.title?e.chapterProgress.includes(e.id)?"sidebar_module_completed":"":e.chunkProgress.includes(e.id)?"sidebar_module_completed":"")}),r.a.createElement("div",{className:"module_line"}),r.a.createElement("div",{className:"module_name"},e.text)))};var k=function(e){return r.a.createElement("div",null,e.single?r.a.createElement(c.b,{to:"/cr/".concat(e.subject,"/").concat(e.module,"/").concat(e.data.data_name,"/")},r.a.createElement(E,{onSelectionClick:e.onSelectionClick,open:e.openChapter===e.data.data_name,title:!0,single:e.single,text:e.data.name,data_name:e.data.data_name,id:e.data.id,chapterProgress:e.chapterProgress})):r.a.createElement(E,{onSelectionClick:e.onSelectionClick,open:e.openChapter===e.data.data_name,title:!0,text:e.data.name,data_name:e.data.data_name,id:e.data.id,chapterProgress:e.chapterProgress}),r.a.createElement("div",{className:"module_dropdown",style:{display:e.openChapter===e.data.data_name?"block":"none"}},r.a.createElement("div",{className:"module_dropdown_line"}),e.data.chunks.sort((function(e,t){return e.order-t.order})).map((function(t){return"lesson"===t.data_type?r.a.createElement(c.b,{key:t.data_name,to:"/cr/".concat(e.subject,"/").concat(e.module,"/").concat(e.data.data_name,"/").concat(t.data_name,"/1")},r.a.createElement(E,{onSelectionClick:e.onSelectionClick,title:!1,text:t.name,data_name:t.data_name,open:e.openChunk===t.data_name,id:t.id,chunkProgress:e.chunkProgress})):"test"===t.data_type?r.a.createElement(c.b,{key:t.data_name,to:"/cr/".concat(e.subject,"/").concat(e.module,"/").concat(e.data.data_name,"/").concat(t.data_name,"/test")},r.a.createElement(E,{onSelectionClick:e.onSelectionClick,title:!1,text:t.name,data_name:t.data_name,id:t.id,chunkProgress:e.chunkProgress,open:e.openChunk===t.data_name})):"vocab"===t.data_type?r.a.createElement(c.b,{key:t.data_name,to:"/cr/".concat(e.subject,"/").concat(e.module,"/").concat(e.data.data_name,"/").concat(t.data_name,"/vocab")},r.a.createElement(E,{onSelectionClick:e.onSelectionClick,title:!1,text:t.name,data_name:t.data_name,id:t.id,chunkProgress:e.chunkProgress,open:e.openChunk===t.data_name})):void 0}))))},y=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={open:null,openChunk:null,initialChapter:null,module:null,chunkProgress:[],chapterProgress:[]},e.settingProgress=function(){var t=e.props.userInfo?e.props.userInfo.progression.module_progress.find((function(t){return t.module_id===e.props.module.id})).chapter_progress.filter((function(e){return!0===e.completed})).map((function(e){return e.chapter_id})):[],a=e.props.userInfo?e.props.userInfo.progression.module_progress.find((function(t){return t.module_id===e.props.module.id})).chapter_progress.map((function(e){return e.chunk_progress})).flat().filter((function(e){return!0===e.completed})).map((function(e){return e.chunk_id})):[];e.setState({chapterProgress:t,chunkProgress:a})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(JSON.stringify(this.props.module));e.chapters.sort((function(e,t){return e.order-t.order})),this.setState({module:e}),this.settingProgress()}},{key:"componentDidUpdate",value:function(e,t,a){var n=JSON.parse(JSON.stringify(this.props.module));n.chapters.sort((function(e,t){return e.order-t.order})),e!==this.props&&(this.setState({module:n}),this.settingProgress())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sidebar_wrapper",style:{transform:this.props.collapsed?"translateX(-300px)":"none"}},r.a.createElement("div",{className:"sidebar_inner_wrapper"},r.a.createElement("div",{className:"sidebar_nav_wrapper"},r.a.createElement("ul",{className:"sidebar_nav"},r.a.createElement(c.b,{to:"/"},r.a.createElement("li",null,r.a.createElement(f.a,{icon:g.f}))),r.a.createElement(c.b,{to:"/dashboard"},r.a.createElement("li",null,r.a.createElement(f.a,{icon:g.i}))),r.a.createElement(c.b,{to:"/cr/".concat(this.props.match.params.subject_name,"/").concat(this.props.match.params.module_name)},r.a.createElement("li",null,r.a.createElement(f.a,{icon:g.g}))))),r.a.createElement("div",{className:"all_module_container"},this.state.module&&this.state.module.chapters.map((function(t){return r.a.createElement(k,{key:t.data_name,onSelectionClick:e.props.onSelectionClick,openChapter:e.props.openChapter,openChunk:e.props.openChunk,chunkProgress:e.state.chunkProgress,chapterProgress:e.state.chapterProgress,data:t,module:e.state.module.data_name,single:t.single,subject:e.props.match.params.subject_name})})))))}}]),a}(r.a.Component),j=Object(l.g)(y),w=a(17);var N=function(e){return r.a.createElement(c.b,{to:{pathname:"".concat(e.path)}},r.a.createElement("div",{className:"next_button"},r.a.createElement(f.a,{className:"fa_next",icon:g.e})))};var x=function(e){return r.a.createElement(c.b,{to:e.path},r.a.createElement("div",{className:"back_button",style:{left:e.collapsed?"50px":"350px"}},r.a.createElement(f.a,{className:"fa_back",icon:g.d})))};var O=function(e){return r.a.createElement("span",{className:"hover_text",onMouseEnter:e.onHover,onMouseLeave:e.onHover},e.text)},S=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={textSegments:[],relatedTextSegments:[],selectedText:0},e.onSelectText=function(t){var a=t.target.id;e.setState({selectedText:a})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(this.props.text),t=e[0],a=e[1];this.setState({textSegments:t,relatedTextSegments:a})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"select_text_container"},this.state.textSegments.map((function(t,a){return r.a.createElement("span",{className:"select_text ".concat(parseInt(e.state.selectedText)===a?"select_text_selected":""),key:a,id:a,onClick:e.onSelectText},t)})),r.a.createElement("p",{className:"select_text_related"},this.state.relatedTextSegments[this.state.selectedText]))}}]),a}(r.a.Component),C=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={textSegments:[],regex:null,split:null},e.highlightText=function(t){if(!e.props.highlighted)return t;var a=t;return e.state.split.forEach((function(e){var t=new RegExp(e,"g");a=a.replace(t,'<span className="blue_text">'.concat(e,"</span>"))})),a},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=new RegExp("(".concat(this.props.highlighted,")"),"g"),t=this.props.highlighted?this.props.highlighted.split("|"):null;this.setState({textSegments:JSON.parse(this.props.text),regex:e,split:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("table",{className:"comparison_table"},r.a.createElement("tbody",null,this.state.textSegments.map((function(t,a){return r.a.createElement("tr",{key:a},t.map((function(t,a){return r.a.createElement("td",{key:a},r.a.createElement(w.a,null,e.highlightText(t)))})))}))))}}]),a}(r.a.Component),P=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={page:null,text:"",scroll:0,textTest:'The most basic form of a sentence in Japanese is to simply declare that **Something is another thing**. These sentences are formed with the following <HoverText text={structure}/>:\u21b5\u21b5<p class="text_alone">\\_\\_\\_\\_\\_\\_\u306f \\_\\_\\_\\_\\_\\_\u3067\u3059</p><TextComparison text={[["I am a teacher", "\u308f\u305f\u3057\u306f\u305b\u3093\u305b\u3044\u3067\u3059"]]}/>In the rest of the lesson, we\u2019ll cover five **classes of complexity** in algorithms; in other words, break down the \u201chighly efficient,\u201d \u201cpretty good,\u201d and \u201cinefficient\u201d groups that we just discussed.\u21b5\u21b5<SelectText text={[["This is a", "test sentence"], ["Text one", "Text two"]]} />\u21b5\u21b5Here they are:\u21b5\u21b5| Highly Efficient | Pretty Good | Inefficient |\u21b5| --- | --- | --- |\u21b5| Constant complexity | Linear complexity | Quadratic complexity |\u21b5| Logarithmic complexity | | Factorial complexity |',textTest2:'<div class="content_inner_container">Today we are going to be learning about **verb conjugations**. There is no future tense in Japanese (we will learn how to express the future later) so for now we are just going to be focussing on the dictionary form, past and present in possitive and negative\u21b5\u21b5There are two groups of verb in Japanese, <span class="blue_text">**~\u308b**</span> and <span class="blue_text">**~\u3046**</span> verbs. They are called as such because the **dictionary form** of each verb end in one of the other. So lets see the conjugation:\u21b5\u21b5<div class="normal_table">|\u3000 | Positive | Negitive |\u21b5| --- | --- | --- |\u21b5| **Present** | <span class="blue_text">~\u307e\u3059</span> | <span class="blue_text">~\u307e\u305b\u3093</span> |\u21b5| **Past** | <span class="blue_text">~\u307e\u3057\u305f</span> | <span class="blue_text">~\u307e\u305b\u3093\u3067\u3057\u305f</span> |</div>\u21b5\u21b5Above are the endings for for each verb tense. For <span class="blue_text">~\u308b</span> verbs it\'s easy, just take off the <span class="blue_text">~\u308b</span> and replace it with the ending.\u21b5\u21b5<div class="normal_table">|\u3000 | Positive | Negitive |\u21b5| --- | --- | --- |\u21b5| **Present** | \u305f\u3079<span class="blue_text">\u307e\u3059</span> | \u305f\u3079<span class="blue_text">\u307e\u305b\u3093</span> |\u21b5| **Past** | \u305f\u3079<span class="blue_text">\u307e\u3057\u305f</span> | \u305f\u3079<span class="blue_text">\u307e\u305b\u3093\u3067\u3057\u305f</span> |</div>\u21b5\u21b5For <span class="blue_text">~\u3046</span> verbs, all of which end in some form of **u** vowel, you convert the <span class="blue_text">\u3046</span> sound to <span class="blue_text">\u3044</span>. So <span class="blue_text">\u304f</span> becomes <span class="blue_text">~\u304d</span>, <span class="blue_text">\u3080</span> becomes <span class="blue_text">~\u307f</span> and then you add the endings\u21b5\u21b5<div class="normal_table">|\u3000 | Positive | Negitive |\u21b5| --- | --- | --- |\u21b5| **Present** | \u306e<span class="blue_text">\u307f\u307e\u3059</span> | \u306e<span class="blue_text">\u307f\u307e\u305b\u3093</span> |\u21b5| **Past** | \u306e<span class="blue_text">\u307f\u307e\u3057\u305f</span> | \u306e<span class="blue_text">\u307f\u307e\u305b\u3093\u3067\u3057\u305f</span> |</div></div>'},e.onHover=function(){console.log("working")},e.textConversion=function(e){return e.replace(/\u21b5/g,"\n")},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({text:this.props.page.content})}},{key:"componentDidUpdate",value:function(e){this.props.page!==e.page&&this.setState({text:this.props.page.content})}},{key:"render",value:function(){var e=this.props.page;return r.a.createElement("div",{className:"content_inner_flex_container"},1!==e.page_no&&r.a.createElement(x,{collapsed:this.props.collapsed,path:"".concat(this.props.pathURL).concat(e.page_no-1)}),e.title&&r.a.createElement("h1",null,e.title),r.a.createElement(w.a,{options:{overrides:{HoverText:{component:O,props:{onHover:this.onHover}},SelectText:{component:S},TextComparison:{component:C,props:{}}}}},this.textConversion(this.state.text)),e.page_no!==this.props.totalPages?r.a.createElement(N,{path:"".concat(this.props.pathURL).concat(e.page_no+1)}):r.a.createElement(N,{path:"".concat(this.props.pathURL,"test")}))}}]),a}(r.a.Component);var M=function(e){return r.a.createElement("div",{className:"answerbox_container"},r.a.createElement("input",{onChange:e.onChange,className:e.correct?"answerbox correct_answer":"answerbox",value:e.input,disabled:e.disabled,autoFocus:!e.disabled,style:{width:e.width}}))},A=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={correct:!1,disabled:!1},e.onChange=function(t){t.target.value.toLowerCase()===e.props.question.answer.toLowerCase()?(e.props.updateCorrect(),e.setState({correct:!0,disabled:!0})):e.setState({correct:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"question_container"},r.a.createElement("p",{className:"question_text"},this.props.question.question),r.a.createElement(M,{onChange:this.onChange,correct:this.state.correct,disabled:this.state.disabled}))}}]),a}(r.a.Component),T=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={question:null,input:[],correct:!1},e.randomTilt=function(){return Math.floor(20*Math.random()-5)},e.onSelect=function(t){for(var a=JSON.parse(JSON.stringify(e.state.input)),n=0;n<a.length;n++)if(!a[n].value){a[n].value=t.target.getAttribute("data_value");break}a.map((function(e){return e.value})).join("")===e.state.question.answer.replace(/\s/g,"")?(e.setState({correct:!0,input:a}),e.props.updateCorrect()):e.setState({input:a})},e.removeSelected=function(t){var a=JSON.parse(JSON.stringify(e.state.input));a.find((function(e){return e.value===t.value})).value="",e.setState({input:a})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(JSON.stringify(this.props.question));e.extra=JSON.parse(e.extra);var t=JSON.parse(JSON.stringify(e.extra));e.question=JSON.parse(e.question),this.setState({question:e,input:t})}},{key:"render",value:function(){var e=this;return this.state.question?(console.log(this.state.correct),r.a.createElement("div",{className:"question_container"},r.a.createElement("div",{className:"drag_n_drop_container"},r.a.createElement("div",{className:"drag_n_drop_template"},this.state.input.map((function(t,a){return r.a.createElement("span",{className:"drag_n_drop_segment ".concat(t.user&&"drag_n_drop_empty_segment"," ").concat(e.state.correct&&"drag_n_drop_correct_segment"),key:a,onClick:t.user&&t.value&&!e.state.correct?function(){return e.removeSelected(t)}:null}," ",t.value," ")}))),r.a.createElement("div",{className:"drag_n_drop_options"},this.state.question.question.map((function(t){return r.a.createElement("div",{key:t.i,data_value:t.value,className:"drag_n_drop_option_card ".concat(e.state.correct&&"drag_n_drop_option_card_disabled"),onClick:e.state.correct?null:e.onSelect},t.value)})))))):null}}]),a}(r.a.Component),L=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={questions:null,correct:0},e.updateCorrect=function(){var t=e.state.correct+1;console.log(Object.values(e.state.questions).flat(),t),t>=Object.values(e.state.questions).flat().length&&e.props.updateProgress(e.props.chunkId),e.setState({correct:t})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){for(var e={},t=0;t<this.props.questions.length;t++)e[this.props.questions[t].question_type]?e[this.props.questions[t].question_type].push(this.props.questions[t]):e[this.props.questions[t].question_type]=[this.props.questions[t]];this.setState({questions:e})}},{key:"render",value:function(){var e=this;return this.state.questions?r.a.createElement("div",{className:"content_inner_flex_container"},r.a.createElement(x,{collapsed:this.props.collapsed,path:"".concat(this.props.pathURL).concat(this.props.totalPages)}),r.a.createElement("h1",null,"Test"),r.a.createElement("div",{className:"content_inner_container"},Object.keys(this.state.questions).map((function(t){return r.a.createElement("div",{className:"question_type_container",key:t},r.a.createElement("h2",{className:"question_type_header"},"direct"===t&&"Translate","multiple_choice"===t&&"Build a Sentence"),e.state.questions[t].sort((function(e,t){return e.order-t.order})).map((function(a){return"direct"===t?r.a.createElement(A,{key:a.id,question:a,updateCorrect:e.updateCorrect}):"multiple_choice"===t?r.a.createElement(T,{key:a.id,question:a,updateCorrect:e.updateCorrect}):void 0})))})))):null}}]),a}(r.a.Component),q=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={vocab:{}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){for(var e={},t=0;t<this.props.vocab.length;t++)e[this.props.vocab[t].vocab_type]?e[this.props.vocab[t].vocab_type].push(this.props.vocab[t]):e[this.props.vocab[t].vocab_type]=[this.props.vocab[t]];this.setState({vocab:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content_inner_flex_container"},r.a.createElement("h1",null,"Vocab"),r.a.createElement("div",{className:"content_inner_container"},r.a.createElement("table",{className:"vocab_table"},Object.keys(this.state.vocab).map((function(t){return r.a.createElement("tbody",{key:t},r.a.createElement("tr",{className:"vocab_table_type_head"},r.a.createElement("th",{colSpan:"2"},t)),e.state.vocab[t].map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.native),r.a.createElement("td",null,e.translation))})))})))),r.a.createElement(N,{path:"".concat(this.props.pathURL,"vocab/test")}))}}]),a}(r.a.Component),D=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={vocab:null,currentVocab:null,transDirection:null,correct:!1,input:""},e.randomDirectionGen=function(){return Math.round(Math.random())},e.randomVocabGen=function(){var t=e.state.vocab?JSON.parse(JSON.stringify(e.state.vocab)):JSON.parse(JSON.stringify(e.props.vocab));return t[Math.floor(Math.random()*t.length)]},e.onChange=function(t){var a=t.target.value,n=e.state.transDirection?e.state.currentVocab.translation:e.state.currentVocab.native;a.toLowerCase()===n.toLowerCase()?(e.props.updateProgress(e.props.chunkId),setTimeout(e.newLetter,1e3),e.setState({correct:!0,disabled:!0,input:a})):e.setState({correct:!1,input:a})},e.newLetter=function(){var t=e.randomVocabGen(),a=e.randomDirectionGen();e.setState({currentVocab:t,transDirection:a,correct:!1,disabled:!1,input:""})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({vocab:this.props.vocab,currentVocab:this.randomVocabGen(),transDirection:this.randomDirectionGen()})}},{key:"render",value:function(){return this.state.vocab?r.a.createElement("div",{className:"content_inner"},r.a.createElement("div",{className:"content_inner_flex_container"},r.a.createElement("h1",null,"Test"),r.a.createElement("div",{className:"vocab_test_container"},r.a.createElement("p",{className:"question_text vocab_question"},this.state.transDirection?this.state.currentVocab.native:this.state.currentVocab.translation),r.a.createElement(M,{onChange:this.onChange,correct:this.state.correct,disabled:this.state.disabled,input:this.state.input})),r.a.createElement(x,{collapsed:this.props.collapsed,path:"".concat(this.props.pathURL,"vocab")}))):null}}]),a}(r.a.Component),J=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={chunk:null},e.getChunk=Object(p.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("/api/chunks/".concat(e.props.match.params.chunk_name));case 3:a=t.sent,e.setState({chunk:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.setSidebarOpen(this.props.match.params.chapter_name,this.props.match.params.chunk_name),this.getChunk();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.match.params.chunk_name!==e.match.params.chunk_name&&(this.setState({chunk:null}),this.getChunk())}},{key:"render",value:function(){var e=this;return this.state.chunk?r.a.createElement("div",{className:"content_inner"},r.a.createElement(l.d,null,this.state.chunk.pages.map((function(t){return r.a.createElement(l.b,{key:t.data_name,path:"".concat(e.props.match.url,"/").concat(t.page_no),render:function(a){return r.a.createElement(P,Object.assign({},a,{page:t,pathURL:"".concat(e.props.match.url,"/"),collapsed:e.props.collapsed,totalPages:e.state.chunk.pages.length}))}})})),r.a.createElement(l.b,{path:"".concat(this.props.match.url,"/test"),render:function(t){return r.a.createElement(L,Object.assign({},t,{questions:e.state.chunk.questions,pathURL:"".concat(e.props.match.url,"/"),collapsed:e.props.collapsed,totalPages:e.state.chunk.pages.length,updateProgress:e.props.updateProgress,chunkId:e.state.chunk.id}))}}),r.a.createElement(l.b,{path:"".concat(this.props.match.url,"/vocab/test"),render:function(t){return r.a.createElement(D,Object.assign({},t,{vocab:e.state.chunk.vocab,pathURL:"".concat(e.props.match.url,"/"),collapsed:e.props.collapsed,totalPages:e.state.chunk.pages.length,chunkId:e.state.chunk.id,updateProgress:e.props.updateProgress}))}}),r.a.createElement(l.b,{path:"".concat(this.props.match.url,"/vocab"),render:function(t){return r.a.createElement(q,Object.assign({},t,{vocab:e.state.chunk.vocab,pathURL:"".concat(e.props.match.url,"/"),collapsed:e.props.collapsed,totalPages:e.state.chunk.pages.length}))}}))):r.a.createElement("div",{className:"content_inner"},r.a.createElement("h1",{className:"loading_header"},"Loading"))}}]),a}(r.a.Component),I=a(43),U=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={alphabet:[],rowHovered:null,rowsSelected:{}},e.handleRowSelect=function(t){if(t.stopPropagation(),console.log(t.target),t.target.getAttribute("name")in e.state.rowsSelected){var a=JSON.parse(JSON.stringify(e.state.rowsSelected));delete a[t.target.getAttribute("name")],e.setState({rowsSelected:a})}else{var n=e.state.alphabet[parseInt(t.target.getAttribute("name"))-1],r=JSON.parse(JSON.stringify(e.state.rowsSelected));r[parseInt(t.target.getAttribute("name"))]=JSON.parse(JSON.stringify(n)),e.setState({rowsSelected:r})}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.alphabet.reduce((function(e,t){var a=JSON.parse(JSON.stringify(e));return e.length<t.row?a.push([t]):a[t.row-1].push(t),a}),[]);this.setState({alphabet:e}),console.log(this.props.location.pathname)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"alphabet_container_outer"},r.a.createElement("div",{className:"alphabet_container_inner"},this.state.alphabet.map((function(t){return r.a.createElement("div",{className:"alphabet_row_container",key:t[0].row,name:t[0].row,onClick:e.handleRowSelect},r.a.createElement("div",{className:"alphabet_row_selected",name:t[0].row},r.a.createElement(f.a,{className:"fa_icon",icon:parseInt(t[0].row)in e.state.rowsSelected?g.c:I.a})),r.a.createElement("div",{className:"alphabet_row"},t.map((function(e){return r.a.createElement("div",{key:e.character,className:"alphabet_character_container"},r.a.createElement("div",{className:"alphabet_character"},e.character),r.a.createElement("div",{className:"alphabet_translation"},e.translation))}))))}))),0!==Object.keys(this.state.rowsSelected).length&&r.a.createElement(N,{path:this.props.location.pathname+"test"}))}}]),a}(r.a.Component),B=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={letters:[],currentLetter:{},lang:0,input:"",score:0,correct:!1,disabled:!1,showPopup:!1,showAnswer:!1},e.letterRandomiser=function(e){return Math.floor(Math.random()*e.length)},e.languageRandomiser=function(){return Math.round(Math.random())},e.onChange=function(t){var a=t.target.value;if(a===e.state.currentLetter.translation){var n=e.state.score+1;setTimeout(e.newLetter,1e3),e.setState({correct:!0,input:a,disabled:!0,score:n})}else e.setState({correct:!1,input:a})},e.newLetter=function(){var t=e.state.letters,a=t[e.letterRandomiser(t)];e.setState({letters:t,currentLetter:a,disabled:!1,correct:!1,input:""})},e.onMouseOver=function(t){"mouseenter"===t.type?e.setState({showPopup:!0}):e.setState({showPopup:!1,showAnswer:!1})},e.showAnswer=function(){e.setState({showAnswer:!0})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){console.log("here");var e=Object.values(this.props.history.location.state.rowsSelected).flat(),t=e[this.letterRandomiser(e)];this.setState({letters:e,currentLetter:t})}},{key:"render",value:function(){var e=this.state.currentLetter;return r.a.createElement("div",{className:""},r.a.createElement(x,null),r.a.createElement("div",{className:"score"},this.state.score),r.a.createElement("div",{className:"test_character",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOver,onClick:this.showAnswer},e.character,this.state.showPopup&&r.a.createElement("div",{className:"alphabet_answer_popup"},this.state.showAnswer?this.state.currentLetter.translation:"Click to uncover answer")),r.a.createElement(M,{onChange:this.onChange,correct:this.state.correct,input:this.state.input,disabled:this.state.disabled,width:"300px"}))}}]),a}(r.a.Component),F=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:null},e.externalDataRetrieval=function(){var t=Object(p.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.prev=1,t.next=4,b.a.get("/api/".concat(a,"/"));case 4:n=t.sent,e.setState({data:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/chapters/".concat(this.props.match.params.module_name,"/").concat(this.props.match.params.chapter_name));case 3:t=e.sent,console.log(t.data),t.data.external_link&&this.externalDataRetrieval(t.data.external_link),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.data?r.a.createElement("div",{className:"content_inner"},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/cr/:subject_name/:module_name/:chapter_name/",render:function(t){return r.a.createElement(U,Object.assign({},t,{alphabet:e.state.data}))}}),r.a.createElement(l.b,{path:"/cr/:subject_name/:module_name/:chapter_name/test",render:function(t){return r.a.createElement(B,Object.assign({},t,{alphabet:e.state.data}))}}))):null}}]),a}(r.a.Component),R=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={module:null,getting_started:"Welcome to Japanese 1! I sinceely hope that you enjoy the course that we have put together for you. Before you get started however, there are a couple of things that will help enhance your learning experince, so please have a quick read of the information below.\u21b5\u21b5###Keyboard Setup\u21b5\u21b5Throughout the course, there will be plenty of oppertunities for you to answer questions and type in Japanese. This will require using a Japanese keyboard, and whilst we do have an onscreen keyboard that you can click, we highly recommend adding the japanes keyboard input to your computer as shown below to make for a faster and more seamless experience."},e.textConversion=function(e){return e.replace(/\u21b5/g,"\n")},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.props.module.getting_started?r.a.createElement("div",{className:"content_inner"},r.a.createElement("div",{className:"content_inner_flex_container"},r.a.createElement("h1",null,"Getting Started"),r.a.createElement(w.a,null,this.textConversion(this.props.module.getting_started)))):null}}]),a}(r.a.Component),V=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={module:null},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/cr/:subject_name/:module_name/:chapter_name/:chunk_name",render:function(t){return r.a.createElement(J,Object.assign({},t,{collapsed:e.props.collapsed,updateProgress:e.props.updateProgress,setSidebarOpen:e.props.setSidebarOpen}))}}),r.a.createElement(l.b,{path:"/cr/:subject_name/:module_name/:chapter_name",component:F}),r.a.createElement(l.b,{path:"/cr/:subject_name/:module_name",render:function(t){return r.a.createElement(R,Object.assign({},t,{module:e.props.module}))}}))}}]),a}(r.a.Component),H=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,null,[{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"getPayload",value:function(){var e=this.getToken();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))}},{key:"isAuthenticated",value:function(){var e=this.getPayload();return!!e&&Math.round(Date.now()/1e3)<e.exp}}]),e}(),G=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:null,module:null,chunk:{},collapsed:!1,openChapter:null,openChunk:null},e.updateProgress=function(){var t=Object(p.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.state.user),console.log(a),!e.state.user.progression.module_progress.find((function(t){return t.module_id===e.state.module.id})).chapter_progress.map((function(e){return e.chunk_progress})).flat().find((function(e){return e.chunk_id===a})).completed){t.next=5;break}return t.abrupt("return",console.log("already Completed"));case 5:return t.prev=5,t.next=8,b.a.put("/api/auth/user/progress/chunk/".concat(a,"/"),{module_id:e.state.module.id},{headers:{Authorization:"Bearer ".concat(H.getToken())}});case 8:n=t.sent,e.setState({user:n.data}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}(),e.setSidebarOpen=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.setState({openChapter:t,openChunk:a})},e.onSelectionClick=function(t,a,n,r){n?e.setState({openChapter:a}):e.setState({openChunk:a}),r&&e.setState({openChunk:null})},e.getUser=Object(p.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("/api/auth/user/",{headers:{Authorization:"Bearer ".concat(H.getToken())}});case 3:a=t.sent,e.setState({user:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.collapseSideBar=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.module_name.toLowerCase(),e.prev=1,e.next=4,b.a.get("/api/modules/".concat(t));case 4:a=e.sent,this.setState({module:a.data}),this.getUser(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),"Not Found"===e.t0.response.data.message&&this.props.history.push("/x/notfound");case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.user?this.props.location.fromProps||this.state.user.progression.module_progress.find((function(t){return e.state.module.id===t.module_id}))?r.a.createElement("main",{className:"page_container"},r.a.createElement("div",{className:"sidebar_collapse",onClick:this.collapseSideBar,style:{left:this.state.collapsed?"20px":"320px",transform:this.state.collapsed?"rotate(90deg)":""}},r.a.createElement(f.a,{icon:g.h})),r.a.createElement(j,{module:this.state.module,onChunkSelect:this.onChunkSelect,collapsed:this.state.collapsed,userInfo:this.state.user,openChapter:this.state.openChapter,openChunk:this.state.openChunk,onSelectionClick:this.onSelectionClick}),r.a.createElement("section",{className:"classroom_content_container",style:{marginLeft:this.state.collapsed?"-300px":"0"}},r.a.createElement(V,{module:this.state.module,collapsed:this.state.collapsed,updateProgress:this.updateProgress,setSidebarOpen:this.setSidebarOpen}))):r.a.createElement(l.a,{to:"/".concat(this.props.match.params.subject_name)}):null}}]),a}(r.a.Component),z=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={subjects:[]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H.isAuthenticated()&&this.props.getUser(),e.prev=1,e.next=4,b.a.get("/api/subjects/");case 4:t=e.sent,this.setState({subjects:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement("header",null,r.a.createElement("nav",null)),r.a.createElement("section",{className:"main_hero"},r.a.createElement("h1",{className:"main_hero_text"},"Placeholder Text"),r.a.createElement("div",null,r.a.createElement(c.b,{className:"landing_view_courses",to:"/subjects"},"View our Subjects"))),r.a.createElement("section",{style:{height:"200vh"}}))}}]),a}(r.a.Component);var W=function(e){return r.a.createElement("div",{className:"module_card_container",onClick:function(t){e.userStarted?e.directLink(e.module):(e.toggleModal(t),e.setModal(t,e.module))}},r.a.createElement("div",{className:"module_card_details"},r.a.createElement("h2",null,e.module.name),r.a.createElement("p",{className:"module_card_subject"},e.subject[0].toUpperCase()+e.subject.slice(1))),console.log(typeof e.progression),"number"===typeof e.progression&&r.a.createElement("div",{className:"module_card_progress_containter"},r.a.createElement("div",{className:"progress_bar_container"},r.a.createElement("div",{className:"progress_bar",style:{width:"".concat(e.progression,"%")}}))))};var K=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:e.toggleModal,className:"modal_background"}),e.component)};var X=function(e){return r.a.createElement("div",{className:"module_modal_outer"},r.a.createElement("div",{className:"module_modal_inner"},r.a.createElement("div",{className:"module_info_upper"},r.a.createElement("h2",{className:"module_description_header"},e.module.name),r.a.createElement("hr",{className:"module_description_rule"}),r.a.createElement("div",{className:"module_description_content"},r.a.createElement("h4",{className:"module_description_subheader"},"What this module will teach you:"),r.a.createElement(w.a,null,e.module.description.replace(/\u21b5/g,"\n")),r.a.createElement("h4",{className:"module_description_subheader"},"Chapters: ",e.module.chapters.length))),r.a.createElement("div",{className:"module_info_buttons"},H.isAuthenticated()?r.a.createElement(c.b,{to:{pathname:e.urlcomp,fromProps:{accepted:!0}}},r.a.createElement("button",{onClick:e.addModuleUser,className:"select_button"},"Select")):r.a.createElement(c.b,{to:"/login"},r.a.createElement("button",null,"Login")),r.a.createElement("button",{className:"cancel_button",onClick:e.toggleModal},"Cancel"))))},Y=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={subject:"",modules:null,modal:!1,modalModule:null},e.toggleModal=function(t){e.setState({modal:!e.state.modal})},e.setModal=function(t,a){e.setState({modalModule:a})},e.directLink=function(t){console.log("redirect"),e.props.history.push("/cr/".concat(e.state.subject,"/").concat(t.data_name))},e.addModuleUser=Object(p.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("this user has already joing this module",!!e.props.progression.find((function(t){return t.module_id===e.state.modalModule.id}))),!e.props.progression.find((function(t){return t.module_id===e.state.modalModule.id}))){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,b.a.post("/api/auth/user/progress/module/".concat(e.state.modalModule.id,"/"),{},{headers:{Authorization:"Bearer ".concat(H.getToken())}});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.data_name.toLowerCase(),e.prev=1,e.next=4,b.a.get("/api/subjects/".concat(t,"/"));case 4:a=e.sent,this.setState({modules:a.data.modules,subject:a.data.data_name}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),"Not Found"===e.t0.response.data.message&&this.props.history.push("/x/notfound");case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.modules?r.a.createElement("div",{className:"subject_page_container"},r.a.createElement("div",{className:"subject_header_container"},r.a.createElement("h1",{className:"subject_header"},this.state.subject[0].toUpperCase()+this.state.subject.slice(1))),r.a.createElement("section",{className:"subject_page_content_container"},r.a.createElement("div",{className:"subject_page_modules_contatiner"},this.state.modules.map((function(t){return r.a.createElement(W,{key:t.data_name,userStarted:e.props.progression&&e.props.progression.find((function(e){return e.module_id===t.id})),module:t,progression:!(!e.props.progression||!e.props.progression.find((function(e){return e.module_id===t.id})))&&e.props.progression.find((function(e){return e.module_id===t.id})).progress,subject:e.state.subject,toggleModal:e.toggleModal,setModal:e.setModal,directLink:e.directLink})}))),r.a.createElement("div",{className:"subject_page_paths_container"})),this.state.modal&&r.a.createElement(K,{toggleModal:this.toggleModal,component:r.a.createElement(X,{module:this.state.modalModule,urlcomp:"/cr/".concat(this.state.subject,"/").concat(this.state.modalModule.data_name),toggleModal:this.toggleModal,addModuleUser:this.addModuleUser})})):null}}]),a}(r.a.Component);var Q=function(e){return r.a.createElement(c.b,{to:"/".concat(e.subject.data_name)},r.a.createElement("div",{className:"subject_card_container"},r.a.createElement("div",{className:"subject_image"}),r.a.createElement("div",{className:"subject_card_header_container"},r.a.createElement("h3",{className:"subject_card_header"},e.subject.name))))},$=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={subjects:null},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/subjects/");case 3:t=e.sent,this.setState({subjects:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.subjects?r.a.createElement("section",null,r.a.createElement("h1",{className:"subjects_index_title"},"Subjects"),r.a.createElement("div",{className:"subject_container"},this.state.subjects.map((function(e){return r.a.createElement(Q,{key:e.data_name,subject:e})})))):null}}]),a}(r.a.Component),Z=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={scrolled:!1,selected:null},e.setScrollTrue=function(){window.scrollY>10&&e.setState({scrolled:!0})},e.setScrollFalse=function(){window.scrollY<10&&e.setState({scrolled:!1})},e.setLocation=function(t){t&&e.props.location.pathname===t.location.pathname||e.setState({selected:e.props.location.pathname})},e.handleLogout=function(){H.logout(),e.props.removeUser(),e.props.history.push("/")},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){this.setLocation(e)}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",(function(){return e.state.scrolled?e.setScrollFalse():e.setScrollTrue()})),this.setLocation()}},{key:"render",value:function(){return r.a.createElement("nav",{className:"hub_nav ".concat(this.state.scrolled&&"nav_box_shadow")},r.a.createElement(c.b,{to:"/",className:"navbar_item"},r.a.createElement("div",null,"Logo")),r.a.createElement("div",{className:"navbar_auth_link_container"},H.isAuthenticated()&&r.a.createElement(c.b,{title:"User Dashboard",to:"/dashboard",className:"navbar_item navbar_auth_link ".concat("/dashboard"===this.state.selected&&"nav_auth_link_selected")},r.a.createElement(f.a,{icon:g.i})),r.a.createElement(c.b,{title:"Subjects",to:"/subjects",className:"navbar_item navbar_auth_link ".concat("/subjects"===this.state.selected&&"nav_auth_link_selected")},r.a.createElement(f.a,{icon:g.a})),H.isAuthenticated()&&r.a.createElement(c.b,{title:"Classroom",to:"/cr/",className:"navbar_item navbar_auth_link ".concat("/cr/"===this.state.selected&&"nav_auth_link_selected")},r.a.createElement(f.a,{icon:g.b})),H.isAuthenticated()&&r.a.createElement("button",{"aria-label":"Logout",className:"navbar_button navbar_item navbar_auth_link ".concat(""===this.state.selected&&"nav_auth_link_selected"),onClick:this.handleLogout},"Logout"),!H.isAuthenticated()&&r.a.createElement(c.b,{to:"/login",className:"navbar_item navbar_auth_link ".concat("/login"===this.state.selected&&"nav_auth_link_selected")},"Login"),!H.isAuthenticated()&&r.a.createElement(c.b,{to:"/register",className:"navbar_item navbar_auth_link ".concat("/register"===this.state.selected&&"nav_auth_link_selected")},"Register")))}}]),a}(r.a.Component),ee=Object(l.g)(Z),te=a(20),ae=a(21),ne=a(44),re={common:{"X-CSRF-TOKEN":a.n(ne).a.get("csrftoken")}},se=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:null,email:null,password:null,password_confirmation:null},focus:{email:null,password:null},error:null},e.onSubmit=function(){var t=Object(p.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,b.a.post("/api/auth/login/",e.state.data,{headers:re});case 4:n=t.sent,H.setToken(n.data.token),e.props.history.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response.data.message),e.setState({error:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(t){var a=Object(ae.a)({},e.state.data,Object(te.a)({},t.target.name,t.target.value));e.setState({data:a,error:null})},e.handleInputFocus=function(t){var a={email:null,password:null};a[t.target.name]=!0,e.setState({focus:a})},e.handleInputBlur=function(t){e.setState({focus:{email:null,password:null}})},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"auth_container"},r.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"off"},r.a.createElement("h2",{className:"auth_header"},"Login"),r.a.createElement("div",{className:"auth_input_container"},r.a.createElement("label",{className:"auth_input_label ".concat(this.state.focus.email||this.state.data.email?"auth_input_focus":"")},"Email"),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onChange,name:"email",className:"auth_input",onFocus:this.handleInputFocus,onBlur:this.handleInputBlur}))),r.a.createElement("div",{className:"auth_input_container"},r.a.createElement("label",{className:"auth_input_label ".concat(this.state.focus.password||this.state.data.password?"auth_input_focus":"")},"Password"),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onChange,name:"password",className:"auth_input",onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,type:"password"})),this.state.error&&r.a.createElement("p",{className:"auth_error_text"},this.state.error)),r.a.createElement("div",{className:"auth_submit_container"},r.a.createElement("button",{typeof:"submit",className:"auth_submit_button"},"Enter!"),r.a.createElement(c.b,{to:"/register",className:"login_link"},"go to Register"))))}}]),a}(r.a.Component),oe=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:null,email:null,password:null,password_confirmation:null},focus:{email:null,password:null,username:null,password_confirmation:null},errors:{email:null,password:null,username:null,password_confirmation:null}},e.onSubmit=function(){var t=Object(p.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,b.a.post("/api/auth/register/",e.state.data,{headers:re});case 4:n=t.sent,console.log(n.data),e.props.history.push("/login"),t.next=14;break;case 9:for(t.t0 in t.prev=9,t.t0=t.catch(1),r=Object(ae.a)({},t.t0.response.data))t.t0=t.t0[0];e.setState({errors:r});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(t){var a=Object(ae.a)({},e.state.data,Object(te.a)({},t.target.name,t.target.value));e.setState({data:a})},e.handleInputFocus=function(t){var a={email:null,password:null,username:null,password_confirmation:null};a[t.target.name]=!0,e.setState({focus:a,errors:{email:null,password:null,username:null,password_confirmation:null}})},e.handleInputBlur=function(t){e.setState({focus:{email:null,password:null,username:null,password_confirmation:null}})},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"auth_container"},r.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"off"},r.a.createElement("h2",{className:"auth_header"},"Register"),r.a.createElement("div",{className:"auth_input_container"},r.a.createElement("label",{className:"auth_input_label ".concat(this.state.focus.username||this.state.data.username?"auth_input_focus":"")},"Username"),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onChange,name:"username",className:"auth_input",onFocus:this.handleInputFocus,onBlur:this.handleInputBlur})),this.state.errors.username&&r.a.createElement("div",{className:"auth_error_text"},this.state.errors.username)),r.a.createElement("div",{className:"auth_input_container"},r.a.createElement("label",{className:"auth_input_label ".concat(this.state.focus.email||this.state.data.email?"auth_input_focus":"")},"Email"),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onChange,name:"email",className:"auth_input",onFocus:this.handleInputFocus,onBlur:this.handleInputBlur})),this.state.errors.email&&r.a.createElement("div",{className:"auth_error_text"},this.state.errors.email)),r.a.createElement("div",{className:"auth_input_container"},r.a.createElement("label",{className:"auth_input_label ".concat(this.state.focus.password||this.state.data.password?"auth_input_focus":"")},"Password"),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onChange,name:"password",className:"auth_input",onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,type:"password"})),this.state.errors.password&&r.a.createElement("div",{className:"auth_error_text"},this.state.errors.password)),r.a.createElement("div",{className:"auth_input_container"},r.a.createElement("label",{className:"auth_input_label ".concat(this.state.focus.password_confirmation||this.state.data.password_confirmation?"auth_input_focus":"")},"Password Confirmation"),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onChange,name:"password_confirmation",className:"auth_input",onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,type:"password"})),this.state.errors.password_confirmation&&r.a.createElement("div",{className:"auth_error_text"},this.state.errors.password_confirmation)),r.a.createElement("div",{className:"auth_submit_container"},r.a.createElement("button",{typeof:"submit",className:"auth_submit_button"},"Submit"),r.a.createElement(c.b,{to:"/login",className:"login_link"},"go to Login"))))}}]),a}(r.a.Component),ce=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userProgress:null},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),e.prev=1,e.next=4,b.a.get("/api/auth/user/progress",{headers:{Authorization:"Bearer ".concat(H.getToken())}});case 4:t=e.sent,this.setState({userProgress:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.props.user)return null;if(!this.state.userProgress)return null;var e=this.props.user,t=this.state.userProgress;return r.a.createElement("section",{className:"user_dashboard_container"},r.a.createElement("div",{className:"user_dashboard_card"},r.a.createElement("h2",{className:"user_dashboard_card_header"},"Notifications"),r.a.createElement("div",{className:"user_dashboard_card_content"})),r.a.createElement("div",{className:"user_dashboard_card user_dashboard_card_profile"},r.a.createElement("div",{className:"user_dashboard_card_profile_image"},e.username[0]),r.a.createElement("div",{className:"user_dashboard_card_profile_content"},r.a.createElement("h3",{className:"user_dashboard_card_profile_username"},e.username),r.a.createElement("h4",{className:"user_dashboard_card_profile_email"},e.email),r.a.createElement("p",{className:"user_dashboard_card_profile_date"},"Joined: ",e.date_joined.slice(0,10).replace(/-/g,"/")))),r.a.createElement("div",{className:"user_dashboard_card"},r.a.createElement("h2",{className:"user_dashboard_card_header"},"Stats"),r.a.createElement("div",{className:"user_dashboard_card_content"},r.a.createElement("p",null,"Modules in Progress: ",e.progression.module_progress.length),r.a.createElement("p",null,"Modules Completed: ",e.progression.module_progress.filter((function(e){return!0===e.completed})).length))),r.a.createElement("div",{className:"user_dashboard_card grid_item_wide"},r.a.createElement("div",{className:"user_dashboard_all_progress_container"},t.module_progress.map((function(e){return r.a.createElement(c.b,{key:e.id,to:"/cr/".concat(e.module_id.subject.name,"/").concat(e.module_id.data_name,"/")},r.a.createElement("div",{className:"user_dashboard_module_progress_container"},r.a.createElement("div",null,r.a.createElement("svg",{height:"100",width:"100"},r.a.createElement("circle",{className:"user_dashboard_progress_bar_outer",cx:"50",cy:"50",r:"40"}),r.a.createElement("circle",{className:"user_dashboard_progress_bar",cx:"50",cy:"50",r:"40",strokeDasharray:"251",strokeDashoffset:251-e.progress/100*251}))),r.a.createElement("h4",null,e.module_id.name)))})))),r.a.createElement("div",{className:"user_dashboard_card"}),r.a.createElement("div",{className:"user_dashboard_card"}))}}]),a}(r.a.Component),le=a(23),ie=function(e){var t=e.component,a=e.user,n=Object(le.a)(e,["component","user"]);return H.isAuthenticated()?r.a.createElement(l.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,Object.assign({},e,{user:a}))}})):(H.logout(),r.a.createElement(l.a,{to:"/"}))},ue=function(e){var t=e.component,a=Object(le.a)(e,["component"]);return H.isAuthenticated()?r.a.createElement(l.a,{to:"/"}):r.a.createElement(l.b,Object.assign({component:t},a))};var pe=function(){return r.a.createElement("div",null,"The page that you are looking for does not exist.")},me=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:null},e.getUser=Object(p.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(H.isAuthenticated()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,b.a.get("/api/auth/user/",{headers:{Authorization:"Bearer ".concat(H.getToken())}});case 5:a=t.sent,e.setState({user:a.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),e.removeUser=function(){e.setState({user:null})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ee,{removeUser:this.removeUser}),r.a.createElement("div",{className:"main_offset"},r.a.createElement(l.d,null,r.a.createElement(ie,{path:"/dashboard",component:ce,user:this.state.user}),r.a.createElement(ue,{path:"/login",component:se}),r.a.createElement(ue,{path:"/register",component:oe}),r.a.createElement(l.b,{path:"/subjects",component:$}),r.a.createElement(ie,{path:"/x/*",component:pe}),this.state.user?r.a.createElement(l.b,{path:"/:data_name/",render:function(t){return r.a.createElement(Y,Object.assign({},t,{progression:e.state.user.progression.module_progress}))}}):r.a.createElement(l.b,{path:"/:data_name/",component:Y}),r.a.createElement(l.b,{path:"/",render:function(t){return r.a.createElement(z,Object.assign({},t,{getUser:e.getUser}))}}))))}}]),a}(r.a.Component);var de=function(){return r.a.createElement(c.a,null,r.a.createElement(l.d,null,r.a.createElement(ie,{path:"/cr/:subject_name/:module_name/",component:G}),r.a.createElement(l.b,{path:"/",component:me})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.414d1f4b.chunk.js.map